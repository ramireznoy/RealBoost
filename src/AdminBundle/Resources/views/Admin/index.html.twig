<!DOCTYPE html>
<html lang="en">

    <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>RealBoost</title>

        <!-- Global stylesheets -->
        <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,100,500,700,900') }}" rel="stylesheet" type="text/css">
        <link href="{{ asset('assets/css/icons/icomoon/styles.css') }}" rel="stylesheet" type="text/css">
        <link href="{{ asset('assets/css/bootstrap.css') }}" rel="stylesheet" type="text/css">
        <link href="{{ asset('assets/css/core.css') }}" rel="stylesheet" type="text/css">
        <link href="{{ asset('assets/css/components.css') }}" rel="stylesheet" type="text/css">
        <link href="{{ asset('assets/css/colors.css') }}" rel="stylesheet" type="text/css">
    </head>

    <body>

        <!-- Main navbar -->
        <div class="navbar navbar-default header-highlight">
            <div class="navbar-header">
                <a class="navbar-brand" href="index.html"><img src="assets/images/logo_light.png" alt=""></a>

                <ul class="nav navbar-nav visible-xs-block">
                    <li><a data-toggle="collapse" data-target="#navbar-mobile"><i class="icon-tree5"></i></a></li>
                    <li><a class="sidebar-mobile-main-toggle"><i class="icon-paragraph-justify3"></i></a></li>
                </ul>
            </div>

            <div class="navbar-collapse collapse" id="navbar-mobile">
                <ul class="nav navbar-nav">
                    <li><a class="sidebar-control sidebar-main-toggle hidden-xs"><i class="icon-paragraph-justify3"></i></a></li>
                </ul>

                <div class="navbar-right">
                    <p class="navbar-text">Hi, {{ user.firstname }}</p>

                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="icon-bell2"></i>
                                <span class="visible-xs-inline-block position-right">Activity</span>
                                <span class="status-mark border-pink-300"></span>
                            </a>

                            <div class="dropdown-menu dropdown-content">
                                <div class="dropdown-content-heading">
                                    Activity
                                    <ul class="icons-list">
                                        <li><a href="#"><i class="icon-menu7"></i></a></li>
                                    </ul>
                                </div>

                                <ul class="media-list dropdown-content-body width-350">
                                    <li class="media">
                                        <div class="media-left">
                                            <a href="#" class="btn bg-success-400 btn-rounded btn-icon btn-xs"><i class="icon-mention"></i></a>
                                        </div>

                                        <div class="media-body">
                                            <a href="#">Taylor Swift</a> mentioned you in a post "Angular JS. Tips and tricks"
                                            <div class="media-annotation">4 minutes ago</div>
                                        </div>
                                    </li>

                                    <li class="media">
                                        <div class="media-left">
                                            <a href="#" class="btn bg-pink-400 btn-rounded btn-icon btn-xs"><i class="icon-paperplane"></i></a>
                                        </div>

                                        <div class="media-body">
                                            Special offers have been sent to subscribed users by <a href="#">Donna Gordon</a>
                                            <div class="media-annotation">36 minutes ago</div>
                                        </div>
                                    </li>

                                    <li class="media">
                                        <div class="media-left">
                                            <a href="#" class="btn bg-blue btn-rounded btn-icon btn-xs"><i class="icon-plus3"></i></a>
                                        </div>

                                        <div class="media-body">
                                            <a href="#">Chris Arney</a> created a new <span class="text-semibold">Design</span> branch in <span class="text-semibold">Limitless</span> repository
                                            <div class="media-annotation">2 hours ago</div>
                                        </div>
                                    </li>

                                    <li class="media">
                                        <div class="media-left">
                                            <a href="#" class="btn bg-purple-300 btn-rounded btn-icon btn-xs"><i class="icon-truck"></i></a>
                                        </div>

                                        <div class="media-body">
                                            Shipping cost to the Netherlands has been reduced, database updated
                                            <div class="media-annotation">Feb 8, 11:30</div>
                                        </div>
                                    </li>

                                    <li class="media">
                                        <div class="media-left">
                                            <a href="#" class="btn bg-warning-400 btn-rounded btn-icon btn-xs"><i class="icon-bubble8"></i></a>
                                        </div>

                                        <div class="media-body">
                                            New review received on <a href="#">Server side integration</a> services
                                            <div class="media-annotation">Feb 2, 10:20</div>
                                        </div>
                                    </li>

                                    <li class="media">
                                        <div class="media-left">
                                            <a href="#" class="btn bg-teal-400 btn-rounded btn-icon btn-xs"><i class="icon-spinner11"></i></a>
                                        </div>

                                        <div class="media-body">
                                            <strong>January, 2016</strong> - 1320 new users, 3284 orders, $49,390 revenue
                                            <div class="media-annotation">Feb 1, 05:46</div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- /main navbar -->


        <!-- Page container -->
        <div class="page-container">

            <!-- Page content -->
            <div class="page-content">

                <!-- Main sidebar -->
                <div class="sidebar sidebar-main">
                    <div class="sidebar-content">

                        <!-- User menu -->
                        <div class="sidebar-user-material">
                            <div class="category-content">
                                <div class="sidebar-user-material-content">
                                    <a href="#"><img src="assets/images/demo/users/face11.jpg" class="img-circle img-responsive" alt=""></a>
                                    <h6>{{ user.fullname }}</h6>
                                    <span class="text-size-small">{{ user.username }}</span>
                                </div>

                                <div class="sidebar-user-material-menu">
                                    <a href="#user-nav" data-toggle="collapse"><span>My account</span> <i class="caret"></i></a>
                                </div>
                            </div>

                            <div class="navigation-wrapper collapse" id="user-nav">
                                <ul class="navigation">
                                    <li><a href="#"><i class="icon-user-plus"></i> <span>My profile</span></a></li>
                                    <li><a href="#"><i class="icon-coins"></i> <span>My balance</span></a></li>
                                    <li><a href="#"><i class="icon-comment-discussion"></i> <span><span class="badge bg-teal-400 pull-right">58</span> Messages</span></a></li>
                                    <li class="divider"></li>
                                    <li><a href="#"><i class="icon-cog5"></i> <span>Account settings</span></a></li>
                                    <li><a href="{{ path('admin_logout') }}"><i class="icon-switch2"></i> <span>Logout</span></a></li>
                                </ul>
                            </div>
                        </div>
                        <!-- /user menu -->


                        <!-- Main navigation -->
                        <div class="sidebar-category sidebar-category-visible">
                            <div class="category-content no-padding">
                                <ul class="navigation navigation-main navigation-accordion">

                                    {% include 'AdminBundle:Admin/Menu:side_menu.html.twig' with menuitems %}

                                </ul>
                            </div>
                        </div>
                        <!-- /main navigation -->

                    </div>
                </div>
                <!-- /main sidebar -->


                <!-- Main content -->
                <div class="content-wrapper">

                    <!-- Content area -->
                    <div class="content">

                        {% include 'AdminBundle:Admin:dashboard.html.twig' with {'user':user} %}

                        <div class="footer text-muted">
                            &copy; 2017. <a href="#">RealBoost</a> by <a href="http://www.ngbytes.com" target="_blank">NGBytes</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Core JS files -->
        <script type="text/javascript" src="{{ asset('assets/js/plugins/loaders/pace.min.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/core/libraries/jquery.min.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/core/libraries/bootstrap.min.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/plugins/loaders/blockui.min.js') }}"></script>

        <!-- Theme JS files -->
        <script type="text/javascript" src="{{ asset('assets/js/plugins/visualization/d3/d3.min.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/plugins/visualization/d3/d3_tooltip.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/plugins/forms/styling/switchery.min.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/plugins/forms/styling/uniform.min.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/plugins/forms/selects/bootstrap_multiselect.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/plugins/ui/moment/moment.min.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/plugins/pickers/daterangepicker.js') }}"></script>

        <script type="text/javascript" src="{{ asset('assets/js/core/app.js') }}"></script>
        <script type="text/javascript" src="{{ asset('assets/js/core/noback.js') }}"></script>
        {#        <script type="text/javascript" src="{{ asset('assets/js/pages/dashboard.js') }}"></script>#}

        <script type="text/javascript" src="{{ asset('assets/js/plugins/ui/ripple.min.js') }}"></script>

        <script>
            //# sourceURL=main_base.js
            var active_view = '';

            $(document).ready(function () {
                $('.ajaxload').click(function (ev) {
                    ev.preventDefault();
                    ajaxloader($(this).attr('href'));
                });
                $('.submit').click(function (ev) {
                    var form = $(ev.target).parents('form:first');
                    ajaxsubmit(form);
                });
            });
            function ajaxloader(url) {
                blockUI();
                $.ajax({
                    url: url,
                    method: 'POST',
                    success: function (resp) {
                        unblockUI();
                        active_view = url;
                        $('#content-container').html(resp);
                        $('#content-container').find('.submit').click(function (ev) {
                            var form = $(ev.target).parents('form:first');
                            ajaxsubmit(form);
                        });
                    },
                    error: function () {
                        unblockUI();
                        $.niftyNoty({
                            type: 'danger',
                            message: 'No se pudo acceder el recurso solicitado ' + url,
                            container: 'floating',
                            timer: 5000
                        });
                    }
                });
            }

            function ajaxsubmit(form, successcb, unsuccesscb, errorcb) {
                var url = $(form).attr('action');
                var data = {};
                $(form).find('input, select, textarea').each(
                        function () {
                            var input = $(this);
                            data[input.attr('name')] = input.val();
                        }
                );
                $.ajax({
                    url: url,
                    method: 'POST',
                    data: data,
                    success: function (resp) {
                        if (resp.success) {
                            $.niftyNoty({
                                type: 'success',
                                message: resp.message,
                                container: 'floating',
                                timer: 5000
                            });
                            $(window).scrollTop(0);
                            $(form).trigger('reset');
                            if (successcb !== null) {
                                if (resp.newrow !== null) {
                                    successcb(resp.newrow);
                                } else {
                                    successcb();
                                }
                            }
                        } else {
                            /*$.niftyNoty({
                             type: 'danger',
                             message : resp.cause,
                             container : 'floating',
                             timer : 5000
                             });*/
                            if (unsuccesscb !== null) {
                                unsuccesscb(resp);
                            }
                        }
                    },
                    error: function () {
                        $.niftyNoty({
                            type: 'danger',
                            message: '<strong>No se pudo procesar la solicitud.</strong> Ocurrió un error en el envío.',
                            container: 'floating',
                            timer: 5000
                        });
                        if (errorcb !== null) {
                            errorcb();
                        }
                    }
                });
            }

            function blockUI() {
                $('#content-container').block({
                    overlayCSS: {
                        backgroundColor: '#000',
                        opacity: 0.2,
                        cursor: 'wait'
                    },
                    css: {
                        border: 'none',
                        backgroundColor: 'transparent',
                        opacity: 0.8,
                        color: '#000'
                    }, message: '<span class="fa fa-spinner fa-2x fa-spin"></span>'
                });
            }

            function unblockUI() {
                $('#content-container').unblock();
            }
        </script>

    {% block javascript %}{% endblock %}

</body>

</html>